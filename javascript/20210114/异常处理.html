<!DOCTYPE html>
<html>

<head></head>

<body></body>
<script>
    // 异常处理：程序发生运行时异常后，开发人员所作的处理程序，叫做异常处理

    // 语法：
    // try {
    //     // try 的代码块将尝试执行，如果发生异常，后续代码将会终止，代码会跳出 try 语句
    // } catch (e) {
    //     // 如果在 try 里发生了异常，程序跳出 try 以后，就会进入 catch 代码块
    //     // 其中 catch 接收一个 e 参数，该参数是异常对象
    // } finally {
    //     // finally 是可以不写的
    //     // finally的作用：无论程序如何执行，finally代码块中的内容，始终会被执行
    // }

    try {
        let a = {
            x: 0,
            y: 2
        }

        a = null

        console.log(a.x)
        console.log(a.y)
    } catch (e) {
        console.error(e)
    } finally {
        console.log('程序执行finally')
    }

    // 手动抛出异常
    try {
        // 只要是在try中发生的异常，无论是否包含在函数里，都能被catch住
        fn()
    } catch (e) {
        console.error(e)
    }

    function fn() {
        let x = 16
        let y = 0
        // 验证参数，除数不能为0
        if (y === 0) {
            // throw : 手动抛出异常
            // Error: 异常类，构造函数，传入一个字符串，作为异常提示信息
            throw new Error('除数不能为0')
        }
        console.log(x / y)
    }

    // 为什么要使用手动抛出异常？
    // 终断程序执行，控制执行的流程
</script>

</html>